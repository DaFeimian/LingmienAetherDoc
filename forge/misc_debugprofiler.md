---
title: 调试分析器
order: 4
toc: content
group:
  title: 其他功能
  order: 9997
---
# 调试分析器

Minecraft提供了一个调试分析器，用于提供系统数据、当前游戏设置、JVM数据、关卡数据和各侧的Tick信息，以找到耗时的代码。考虑到像`TickEvent`和正在处理的`BlockEntities`，这对于希望找到延迟来源的模组制作者和服务器所有者来说非常有用。

## 使用调试分析器

调试分析器使用起来非常简单。只需要按下调试键绑定`F3 + L`即可启动分析器。10秒后，它会自动停止；不过，可以通过再次按下键绑定提前停止。

!!! 注意
    自然地，您只能分析当前实际运行的代码路径。您需要分析的`Entities`和`BlockEntities`必须存在于关卡中才能在结果中显示出来。

停止调试器后，它将在运行目录中的`debug/profiling`子目录中创建一个新的压缩文件。
文件名将以日期和时间格式化为`yyyy-mm-dd_hh_mi_ss-WorldName-VersionNumber.zip`

## 阅读分析结果

在每个侧文件夹（`client`和`server`）中，您会找到一个包含结果数据的`profiling.txt`文件。在文件顶部，它首先告诉您运行了多少毫秒，以及在此时间内运行了多少个tick。

在这段之后，您会看到如下所示的信息：
```
[00] levels - 96.70%/96.70%
[01] |   Level Name - 99.76%/96.47%
[02] |   |   tick - 99.31%/95.81%
[03] |   |   |   entities - 47.72%/45.72%
[04] |   |   |   |   regular - 98.32%/44.95%
[04] |   |   |   |   blockEntities - 0.90%/0.41%
[05] |   |   |   |   |   unspecified - 64.26%/0.26%
[05] |   |   |   |   |   minecraft:furnace - 33.35%/0.14%
[05] |   |   |   |   |   minecraft:chest - 2.39%/0.01%
```
以下是每个部分的一个简要说明：

| [02]                     | tick                | 99.31%       | 95.81%       |
| :----------------------- | :------------------ | :----------- | :----------- |
| 节点的深度               | 节点名称            | 与父节点相比所耗费的时间百分比。对于层级0，这表示一个tick所耗费的时间百分比。对于层级1，这是它的父节点所耗费的时间百分比。 | 第二个百分比表示从整个tick所耗费的时间。

## 分析您自己的代码

调试分析器对`Entity`和`BlockEntity`有基本支持。如果您想分析其他内容，可能需要像这样手动创建您的节点：
```java
ProfilerFiller#push(yourSectionName : String);
//您想要分析的代码
ProfilerFiller#pop();
```
您可以从`Level`、`MinecraftServer`或`Minecraft`实例中获取`ProfilerFiller`实例。
现在您只需要在结果文件中搜索您的节点名称即可。